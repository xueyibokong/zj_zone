console.log("def:component_tab"),define(["cbui_core"],function(a){var b,c,d,e,f;return e=a.Fn,d=a.DependencyManager,c=a.Component,f=a.Template,b=e.$,b.fn.tab.Constructor.prototype.close=function(){var a,c,d,e,f,g,h;return d=this.element.parent("a"),e=d.closest("ul:not(.dropdown-menu)"),a=e.find(".active:last a"),f=b.Event("close.bs.tab",{relatedTarget:a[0]}),d.trigger(f),f.isDefaultPrevented()?void 0:(d.closest("li").remove(),a=e.find(".active:last a"),0===a.length&&(a=e.find("a:first")),h=a.parent("li"),g=a.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,""),c=b(g),this.activate(h,e),this.activate(c,c.parent(),function(){return d.trigger({type:"shown.bs.tab",relatedTarget:null})}))},b(document).on("click.bs.tab.data-api",'[data-toggle="close"]',function(a){return a.preventDefault(),b.fn.tab.call(b(this),"close"),!1}),f.Tab={content:_.template('<ul class="nav nav-tabs"> <%for(var i=0,n=data.items.length;i < n;i++){%> <li> <a data-toggle="tab" data-index="<%=i%>" href="#<%=data.items[i].id%>"> <%=data.items[i].title%> <%if(data.items[i].closeable){%> <span data-toggle="close">x</span> <%}%> </a> </li> <%}%> </ul> <div class="tab-content" style="overflow:auto;clear: both"> <%for(var i=0,n=data.items.length;i < n;i++){%> <div class="tab-pane" id="<%=data.items[i].id%>" data-component="<%=data.items[i].component%>"><%=data.items[i].content%></div> <%}%> </div>',f.outerSettings)},c.Tab=c.Container.extend({initialize:function(a){var c,g,h,i,j,k,l;for(this._super(a),i=this.$("[data-tab-item]"),h=[],this.selectIndex=-1,c=j=0,k=i.length;k>j;c=++j)g=i[c],g=b(g),-1===this.selectIndex&&g.is("[data-active]")&&(this.selectIndex=c),h[c]={title:g.attr("data-title"),content:g.html(),id:this.id.replace("#","_")+"_"+g.attr("data-tab-item")||c,component:g.attr("data-component")||"Form",closeable:g.attr("data-closeable"),template:g.attr("data-template")};this.items=h,this.template=f.obtainTemplate(this.$el.data("template"),f.Tab.content),this.model.set({id:this.id,items:this.items},{silent:!0}),l=this,this.$el.on("shown.bs.tab",function(a){var b,d;return l.id===a.target.getAttribute("data-tab-id")&&(e.adjustSize(),_.isFunction(l.onTabChange))?(c=a.target.getAttribute("data-index"),b=a.target.getAttribute("href"),b=b&&b.replace(/.*(?=#[^\s]*$)/,""),d=b.substr(l.id.length+2),l.onTabChange(l.items[c],d)):void 0}),d.calcDependency()},switchTo:function(a){this.$("a[href='#"+this.id.replace("#","_")+"_"+a+"']").tab("show")},afterRender:function(){var a,c;this._super(),this.$el.is("[data-match-parent]")&&this.$(".tab-content").attr("data-match-parent",""),this.$('[data-toggle="tab"]').attr("data-tab-id",this.id),c=this.selectIndex,a=this.items,-1!==c&&this.$("a[href]").each(function(d,e){var f,g;return f=b(e),g=f.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"").substr(1),a[c].id===g?f.tab("show"):void 0})}})});