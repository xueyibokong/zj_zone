console.log("def:component_popupmenu"),define(["cbui_core","component/cbui_popupwindow","css!@/../../css/cbui_popupmenu.css"],function(a){var b=a.Fn,c=a.Component,d=a.Template,e=b.$;d.PopupMenu={popupWindow:function(a){return _.template('<div class="popupmenu-popup"><%for(var i=0,n=data.'+a.data+'.length;i<n;i++){%><input class="popupmenu-menu" type="button" value="<%=data.'+a.data+"[i]."+a.title+'%>" data-menu-button="<%=i%>"/><%}%><%if(data.showCancel){%><input class="popupmenu-menu" type="button" value="<%=data.cancelText%>" data-menu-button/><%}%></div>',d.outerSettings)}},c.PopupMenu=c.PopupWindow.extend({initialize:function(a){this._super(a),this.onMenuClick=b.getTypeVal("Function",a.onMenuClick,this.onMenuClick);var c=this.model;this.autoId&&_.isArray(a.menus)&&c.set({menus:a.menus});var f=c.mapping=b.getTypeVal("Object",c.mapping,{});f.data=b.getTypeVal("String",f.menus,"menus"),f.title=b.getTypeVal("String",f.title,a.mapping?a.mapping.title:void 0,"title"),this.template=d.obtainTemplate(this.template,d.PopupMenu.popupWindow(f));var g=this;this.bindEvent("click [data-menu-button]",function(a){var b=e(a.currentTarget).data("menu-button");g.close(""===b?void 0:b)})},onResult:function(a){if(_.isFunction(this.onMenuClick)){var b=this.model.get("menus");b&&b[a]&&this.onMenuClick(b[a],a)}}})});